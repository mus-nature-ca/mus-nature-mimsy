#!/usr/bin/env ruby
# encoding: utf-8
require_relative '../../environment.rb'
include Sinatra::Mimsy::Helpers

catalogs = [
  "CMNAR 1025",
"  CMNAR 10298",
"  CMNAR 10303",
"  CMNAR 10304",
"  CMNAR 10319",
"  CMNAR 10348",
"  CMNAR 10367",
"  CMNAR 10380",
"  CMNAR 10396",
"  CMNAR 10398",
"  CMNAR 10399",
"  CMNAR 10406",
"  CMNAR 1042",
"  CMNAR 10627",
"  CMNAR 10628",
"  CMNAR 10743",
"  CMNAR 10756",
"  CMNAR 10757",
"  CMNAR 10758",
"  CMNAR 10760",
"  CMNAR 10765",
"  CMNAR 10766",
"  CMNAR 10768",
"  CMNAR 10769",
"  CMNAR 10770",
"  CMNAR 10771",
"  CMNAR 10776",
"  CMNAR 10778",
"  CMNAR 10786",
"  CMNAR 10788",
"  CMNAR 10789",
"  CMNAR 10793",
"  CMNAR 10795",
"  CMNAR 10796",
"  CMNAR 10797",
"  CMNAR 10798",
"  CMNAR 10801",
"  CMNAR 10802",
"  CMNAR 10803",
"  CMNAR 10804",
"  CMNAR 10805",
"  CMNAR 10806",
"  CMNAR 10807",
"  CMNAR 10808",
"  CMNAR 10809",
"  CMNAR 10810",
"  CMNAR 10811",
"  CMNAR 10812",
"  CMNAR 10813",
"  CMNAR 10815",
"  CMNAR 10945",
"  CMNAR 10949",
"  CMNAR 10990",
"  CMNAR 11023",
"  CMNAR 11046",
"  CMNAR 11052",
"  CMNAR 1106",
"  CMNAR 11080",
"  CMNAR 11092",
"  CMNAR 11097",
"  CMNAR 11116",
"  CMNAR 11144",
"  CMNAR 11149",
"  CMNAR 11239",
"  CMNAR 11247",
"  CMNAR 11250",
"  CMNAR 11257",
"  CMNAR 11260",
"  CMNAR 11268",
"  CMNAR 11286",
"  CMNAR 11289",
"  CMNAR 11298",
"  CMNAR 11306",
"  CMNAR 11309",
"  CMNAR 1131",
"  CMNAR 11315",
"  CMNAR 11318",
"  CMNAR 11323",
"  CMNAR 11327",
"  CMNAR 11339",
"  CMNAR 11343",
"  CMNAR 11347",
"  CMNAR 11352",
"  CMNAR 11360",
"  CMNAR 11362",
"  CMNAR 11367",
"  CMNAR 11372",
"  CMNAR 11379",
"  CMNAR 11383",
"  CMNAR 11403",
"  CMNAR 11415",
"  CMNAR 11425",
"  CMNAR 11431",
"  CMNAR 11433",
"  CMNAR 11437",
"  CMNAR 11443",
"  CMNAR 11446",
"  CMNAR 11463",
"  CMNAR 11467",
"  CMNAR 11473",
"  CMNAR 11479",
"  CMNAR 11493",
"  CMNAR 11503",
"  CMNAR 11507",
"  CMNAR 11523",
"  CMNAR 11533",
"  CMNAR 11538",
"  CMNAR 11543",
"  CMNAR 11549",
"  CMNAR 11554",
"  CMNAR 11559",
"  CMNAR 11573",
"  CMNAR 11585",
"  CMNAR 11601",
"  CMNAR 11605",
"  CMNAR 11613",
"  CMNAR 11625",
"  CMNAR 11631",
"  CMNAR 11636",
"  CMNAR 11643",
"  CMNAR 11650",
"  CMNAR 11707",
"  CMNAR 11717",
"  CMNAR 11722",
"  CMNAR 11725",
"  CMNAR 11728",
"  CMNAR 11732",
"  CMNAR 11735",
"  CMNAR 11742",
"  CMNAR 11754",
"  CMNAR 11758",
"  CMNAR 11767",
"  CMNAR 11780",
"  CMNAR 11803",
"  CMNAR 11828",
"  CMNAR 11834",
"  CMNAR 11844",
"  CMNAR 1185",
"  CMNAR 11858",
"  CMNAR 11874",
"  CMNAR 11888",
"  CMNAR 11901",
"  CMNAR 11913",
"  CMNAR 11940",
"  CMNAR 11943",
"  CMNAR 11948",
"  CMNAR 11972",
"  CMNAR 12021",
"  CMNAR 12028",
"  CMNAR 12046",
"  CMNAR 12059",
"  CMNAR 12075",
"  CMNAR 12085",
"  CMNAR 12174",
"  CMNAR 12177",
"  CMNAR 12179",
"  CMNAR 12183",
"  CMNAR 12187",
"  CMNAR 12192",
"  CMNAR 12195",
"  CMNAR 1220",
"  CMNAR 12211",
"  CMNAR 12239",
"  CMNAR 12242",
"  CMNAR 1225",
"  CMNAR 12253",
"  CMNAR 12294",
"  CMNAR 12316",
"  CMNAR 12320",
"  CMNAR 12324",
"  CMNAR 12328",
"  CMNAR 12344",
"  CMNAR 12352",
"  CMNAR 1291",
"  CMNAR 12942",
"  CMNAR 12946",
"  CMNAR 12950",
"  CMNAR 12953",
"  CMNAR 13494",
"  CMNAR 13501",
"  CMNAR 1375",
"  CMNAR 1382",
"  CMNAR 13912",
"  CMNAR 14035",
"  CMNAR 14051",
"  CMNAR 1421",
"  CMNAR 14232",
"  CMNAR 14238",
"  CMNAR 1441",
"  CMNAR 1442",
"  CMNAR 14763",
"  CMNAR 14777",
"  CMNAR 14782",
"  CMNAR 14787",
"  CMNAR 14790",
"  CMNAR 14792",
"  CMNAR 14793",
"  CMNAR 15018",
"  CMNAR 15049",
"  CMNAR 15050",
"  CMNAR 15051",
"  CMNAR 15052",
"  CMNAR 15053",
"  CMNAR 15054",
"  CMNAR 15058",
"  CMNAR 15059",
"  CMNAR 15060",
"  CMNAR 15164",
"  CMNAR 15165",
"  CMNAR 15181",
"  CMNAR 15185B",
"  CMNAR 15186",
"  CMNAR 15187",
"  CMNAR 15188",
"  CMNAR 15190",
"  CMNAR 15194",
"  CMNAR 15199",
"  CMNAR 15200",
"  CMNAR 15202B",
"  CMNAR 15204",
"  CMNAR 15208",
"  CMNAR 15214",
"  CMNAR 15219",
"  CMNAR 15264",
"  CMNAR 15266",
"  CMNAR 15530",
"  CMNAR 15549",
"  CMNAR 15765",
"  CMNAR 15770",
"  CMNAR 15858",
"  CMNAR 15889",
"  CMNAR 16059",
"  CMNAR 16064",
"  CMNAR 16223",
"  CMNAR 16224",
"  CMNAR 16401",
"  CMNAR 16502",
"  CMNAR 16533",
"  CMNAR 16545",
"  CMNAR 16652",
"  CMNAR 16675",
"  CMNAR 16676",
"  CMNAR 16695",
"  CMNAR 16718",
"  CMNAR 1675",
"  CMNAR 16756",
"  CMNAR 16758",
"  CMNAR 16761",
"  CMNAR 16764",
"  CMNAR 16773",
"  CMNAR 16797",
"  CMNAR 16815",
"  CMNAR 16869",
"  CMNAR 16870",
"  CMNAR 16871",
"  CMNAR 16872",
"  CMNAR 16873",
"  CMNAR 16874",
"  CMNAR 16876",
"  CMNAR 16877",
"  CMNAR 16881",
"  CMNAR 16994",
"  CMNAR 1711",
"  CMNAR 1712",
"  CMNAR 1713",
"  CMNAR 1720",
"  CMNAR 173",
"  CMNAR 1742",
"  CMNAR 17519",
"  CMNAR 17633",
"  CMNAR 17900",
"  CMNAR 18010",
"  CMNAR 18112",
"  CMNAR 18123",
"  CMNAR 18126",
"  CMNAR 18129",
"  CMNAR 18134",
"  CMNAR 18136",
"  CMNAR 18140",
"  CMNAR 18143",
"  CMNAR 18145",
"  CMNAR 18148",
"  CMNAR 18154",
"  CMNAR 18162",
"  CMNAR 18173",
"  CMNAR 18178",
"  CMNAR 18186",
"  CMNAR 18190",
"  CMNAR 18200",
"  CMNAR 18211",
"  CMNAR 18213",
"  CMNAR 18358",
"  CMNAR 1838",
"  CMNAR 18388",
"  CMNAR 18455",
"  CMNAR 18456",
"  CMNAR 18598",
"  CMNAR 18599",
"  CMNAR 18615A",
"  CMNAR 18924",
"  CMNAR 1912",
"  CMNAR 19229",
"  CMNAR 19284",
"  CMNAR 19468",
"  CMNAR 19478",
"  CMNAR 19479",
"  CMNAR 19482",
"  CMNAR 19506",
"  CMNAR 19513",
"  CMNAR 19517",
"  CMNAR 19519",
"  CMNAR 19521",
"  CMNAR 19523",
"  CMNAR 19536",
"  CMNAR 19538",
"  CMNAR 19547",
"  CMNAR 19551",
"  CMNAR 19553",
"  CMNAR 20011",
"  CMNAR 20022",
"  CMNAR 20023",
"  CMNAR 20029",
"  CMNAR 20040",
"  CMNAR 20043",
"  CMNAR 20070",
"  CMNAR 20079",
"  CMNAR 20088",
"  CMNAR 20093",
"  CMNAR 20107",
"  CMNAR 20111",
"  CMNAR 20114",
"  CMNAR 20116",
"  CMNAR 20118",
"  CMNAR 20120",
"  CMNAR 20122",
"  CMNAR 20134",
"  CMNAR 20138",
"  CMNAR 20140",
"  CMNAR 20155",
"  CMNAR 20159",
"  CMNAR 20160",
"  CMNAR 20162",
"  CMNAR 20165",
"  CMNAR 20168",
"  CMNAR 20186",
"  CMNAR 20306",
"  CMNAR 20311",
"  CMNAR 20341",
"  CMNAR 20343",
"  CMNAR 20350",
"  CMNAR 20351",
"  CMNAR 20358",
"  CMNAR 20361",
"  CMNAR 20365",
"  CMNAR 20367",
"  CMNAR 20375",
"  CMNAR 20377",
"  CMNAR 20380",
"  CMNAR 20387",
"  CMNAR 20391",
"  CMNAR 20397",
"  CMNAR 20398",
"  CMNAR 20399",
"  CMNAR 20420",
"  CMNAR 20429",
"  CMNAR 20431",
"  CMNAR 20443",
"  CMNAR 20559",
"  CMNAR 2056",
"  CMNAR 2062",
"  CMNAR 20762",
"  CMNAR 20764",
"  CMNAR 20769",
"  CMNAR 2087",
"  CMNAR 20903",
"  CMNAR 20909",
"  CMNAR 20934",
"  CMNAR 20936",
"  CMNAR 20938",
"  CMNAR 20942",
"  CMNAR 21001",
"  CMNAR 21006",
"  CMNAR 21052",
"  CMNAR 21130",
"  CMNAR 21137",
"  CMNAR 21204",
"  CMNAR 21214",
"  CMNAR 21216",
"  CMNAR 21223",
"  CMNAR 21239",
"  CMNAR 21242",
"  CMNAR 2126",
"  CMNAR 21278",
"  CMNAR 21284",
"  CMNAR 21290",
"  CMNAR 21680",
"  CMNAR 21734",
"  CMNAR 22295",
"  CMNAR 22522",
"  CMNAR 22565",
"  CMNAR 22586",
"  CMNAR 22600",
"  CMNAR 22604",
"  CMNAR 22608",
"  CMNAR 22779",
"  CMNAR 22903",
"  CMNAR 22972",
"  CMNAR 2318",
"  CMNAR 2319",
"  CMNAR 2320",
"  CMNAR 2321",
"  CMNAR 23625",
"  CMNAR 2364",
"  CMNAR 2365",
"  CMNAR 2366",
"  CMNAR 23737",
"  CMNAR 23773",
"  CMNAR 23990",
"  CMNAR 24435",
"  CMNAR 24442",
"  CMNAR 24476",
"  CMNAR 24500",
"  CMNAR 24501",
"  CMNAR 24515",
"  CMNAR 24519",
"  CMNAR 24530",
"  CMNAR 24547",
"  CMNAR 24563",
"  CMNAR 24594",
"  CMNAR 24600",
"  CMNAR 24603",
"  CMNAR 24609",
"  CMNAR 24634",
"  CMNAR 24671",
"  CMNAR 25086",
"  CMNAR 25594",
"  CMNAR 25605",
"  CMNAR 25626",
"  CMNAR 25627",
"  CMNAR 25640",
"  CMNAR 25992",
"  CMNAR 25996",
"  CMNAR 26017",
"  CMNAR 26020",
"  CMNAR 26034",
"  CMNAR 26036",
"  CMNAR 2618",
"  CMNAR 26332",
"  CMNAR 26333",
"  CMNAR 26359",
"  CMNAR 26369",
"  CMNAR 26372",
"  CMNAR 26402",
"  CMNAR 26428",
"  CMNAR 2718",
"  CMNAR 2721",
"  CMNAR 2729",
"  CMNAR 2739",
"  CMNAR 2743",
"  CMNAR 2748",
"  CMNAR 2749",
"  CMNAR 27558",
"  CMNAR 27560",
"  CMNAR 27565",
"  CMNAR 27566",
"  CMNAR 27567",
"  CMNAR 27568",
"  CMNAR 27569",
"  CMNAR 27572",
"  CMNAR 27576",
"  CMNAR 27577",
"  CMNAR 2759",
"  CMNAR 2798",
"  CMNAR 2802",
"  CMNAR 28075",
"  CMNAR 2809",
"  CMNAR 2810",
"  CMNAR 28144",
"  CMNAR 28325",
"  CMNAR 28335",
"  CMNAR 28349",
"  CMNAR 28553",
"  CMNAR 28656",
"  CMNAR 2869",
"  CMNAR 2892",
"  CMNAR 29771",
"  CMNAR 2979",
"  CMNAR 29830",
"  CMNAR 30127",
"  CMNAR 30152",
"  CMNAR 30197",
"  CMNAR 30199",
"  CMNAR 30201",
"  CMNAR 30204",
"  CMNAR 30250",
"  CMNAR 30253",
"  CMNAR 30287",
"  CMNAR 30342",
"  CMNAR 30347",
"  CMNAR 30349",
"  CMNAR 3036",
"  CMNAR 30526",
"  CMNAR 30654",
"  CMNAR 30704",
"  CMNAR 30707",
"  CMNAR 30709",
"  CMNAR 31069",
"  CMNAR 31484",
"  CMNAR 31485",
"  CMNAR 31486",
"  CMNAR 31490",
"  CMNAR 31492",
"  CMNAR 31496",
"  CMNAR 31500",
"  CMNAR 31502",
"  CMNAR 31504",
"  CMNAR 31560",
"  CMNAR 3176",
"  CMNAR 3177",
"  CMNAR 3178",
"  CMNAR 3179",
"  CMNAR 31845",
"  CMNAR 31848",
"  CMNAR 32078",
"  CMNAR 32510",
"  CMNAR 32517",
"  CMNAR 32518",
"  CMNAR 32519",
"  CMNAR 32520",
"  CMNAR 32523",
"  CMNAR 3260",
"  CMNAR 32633",
"  CMNAR 32634",
"  CMNAR 32657",
"  CMNAR 32733",
"  CMNAR 32739",
"  CMNAR 32748",
"  CMNAR 32757",
"  CMNAR 32762",
"  CMNAR 32784",
"  CMNAR 32785",
"  CMNAR 32803",
"  CMNAR 3315",
"  CMNAR 3317",
"  CMNAR 3351",
"  CMNAR 33598",
"  CMNAR 3361",
"  CMNAR 3362",
"  CMNAR 3365",
"  CMNAR 3367",
"  CMNAR 33709",
"  CMNAR 3371",
"  CMNAR 3372",
"  CMNAR 3373",
"  CMNAR 33787",
"  CMNAR 33828",
"  CMNAR 3387",
"  CMNAR 3390",
"  CMNAR 3411",
"  CMNAR 3419",
"  CMNAR 3420",
"  CMNAR 3421",
"  CMNAR 3422",
"  CMNAR 3423",
"  CMNAR 34279",
"  CMNAR 34280",
"  CMNAR 34281",
"  CMNAR 3429",
"  CMNAR 3430",
"  CMNAR 34349",
"  CMNAR 3437",
"  CMNAR 34445",
"  CMNAR 34525",
"  CMNAR 34529",
"  CMNAR 34530",
"  CMNAR 34531",
"  CMNAR 34532",
"  CMNAR 34533",
"  CMNAR 34558",
"  CMNAR 34632",
"  CMNAR 3486",
"  CMNAR 3506",
"  CMNAR 3508",
"  CMNAR 3512",
"  CMNAR 35298",
"  CMNAR 35302",
"  CMNAR 35310",
"  CMNAR 35314",
"  CMNAR 35331",
"  CMNAR 35522",
"  CMNAR 35622",
"  CMNAR 35831",
"  CMNAR 35941",
"  CMNAR 36235",
"  CMNAR 36236",
"  CMNAR 36250",
"  CMNAR 36251",
"  CMNAR 36272",
"  CMNAR 36273",
"  CMNAR 36277",
"  CMNAR 36279",
"  CMNAR 36281",
"  CMNAR 36381",
"  CMNAR 36382",
"  CMNAR 36383",
"  CMNAR 36384",
"  CMNAR 36385",
"  CMNAR 36386",
"  CMNAR 36387",
"  CMNAR 36388",
"  CMNAR 36389",
"  CMNAR 3880",
"  CMNAR 3882",
"  CMNAR 4001",
"  CMNAR 4005",
"  CMNAR 4010",
"  CMNAR 4013",
"  CMNAR 4022",
"  CMNAR 4026",
"  CMNAR 4028",
"  CMNAR 4034",
"  CMNAR 4039",
"  CMNAR 4053",
"  CMNAR 4061",
"  CMNAR 4069",
"  CMNAR 4071",
"  CMNAR 4078",
"  CMNAR 4079",
"  CMNAR 4080",
"  CMNAR 4087",
"  CMNAR 4090",
"  CMNAR 4092",
"  CMNAR 4093",
"  CMNAR 4096",
"  CMNAR 4107",
"  CMNAR 4110",
"  CMNAR 4113",
"  CMNAR 4114",
"  CMNAR 4115",
"  CMNAR 4118",
"  CMNAR 4131",
"  CMNAR 4132",
"  CMNAR 4140",
"  CMNAR 4141",
"  CMNAR 4147",
"  CMNAR 4148",
"  CMNAR 4150",
"  CMNAR 4176",
"  CMNAR 4187",
"  CMNAR 4188",
"  CMNAR 4215",
"  CMNAR 4216",
"  CMNAR 4217",
"  CMNAR 4231",
"  CMNAR 4470",
"  CMNAR 4475",
"  CMNAR 4501",
"  CMNAR 4514",
"  CMNAR 4521",
"  CMNAR 4533",
"  CMNAR 4561",
"  CMNAR 4564",
"  CMNAR 4568",
"  CMNAR 4576",
"  CMNAR 4601",
"  CMNAR 4607",
"  CMNAR 4645",
"  CMNAR 4648",
"  CMNAR 4666",
"  CMNAR 4694",
"  CMNAR 4703",
"  CMNAR 4704",
"  CMNAR 4706",
"  CMNAR 4719",
"  CMNAR 4721",
"  CMNAR 4723",
"  CMNAR 4736",
"  CMNAR 4742",
"  CMNAR 4753",
"  CMNAR 4756",
"  CMNAR 4759",
"  CMNAR 4782",
"  CMNAR 4798",
"  CMNAR 4810",
"  CMNAR 4824",
"  CMNAR 4827",
"  CMNAR 4830",
"  CMNAR 4841",
"  CMNAR 4860",
"  CMNAR 4879",
"  CMNAR 4885",
"  CMNAR 4894",
"  CMNAR 4906",
"  CMNAR 4908",
"  CMNAR 4910",
"  CMNAR 4926",
"  CMNAR 4928",
"  CMNAR 4931",
"  CMNAR 4940",
"  CMNAR 4949",
"  CMNAR 4991",
"  CMNAR 5051",
"  CMNAR 5067",
"  CMNAR 5068",
"  CMNAR 5069",
"  CMNAR 5087",
"  CMNAR 5212",
"  CMNAR 5219",
"  CMNAR 5220",
"  CMNAR 5222",
"  CMNAR 5224",
"  CMNAR 5226",
"  CMNAR 5227",
"  CMNAR 5229",
"  CMNAR 5231",
"  CMNAR 5233",
"  CMNAR 5237",
"  CMNAR 5239",
"  CMNAR 5240",
"  CMNAR 5245",
"  CMNAR 5251",
"  CMNAR 5255",
"  CMNAR 5256",
"  CMNAR 5258",
"  CMNAR 5260",
"  CMNAR 5261",
"  CMNAR 5264",
"  CMNAR 5266",
"  CMNAR 5269",
"  CMNAR 5281",
"  CMNAR 5282",
"  CMNAR 5284",
"  CMNAR 5285",
"  CMNAR 5287",
"  CMNAR 5290",
"  CMNAR 5291",
"  CMNAR 5293",
"  CMNAR 5294",
"  CMNAR 5296",
"  CMNAR 5298",
"  CMNAR 5315",
"  CMNAR 5316",
"  CMNAR 5327",
"  CMNAR 5354",
"  CMNAR 5355",
"  CMNAR 5392",
"  CMNAR 5395",
"  CMNAR 5404",
"  CMNAR 5411",
"  CMNAR 5419",
"  CMNAR 5423",
"  CMNAR 5426",
"  CMNAR 5429",
"  CMNAR 5440",
"  CMNAR 5442A",
"  CMNAR 5469",
"  CMNAR 5474",
"  CMNAR 5493",
"  CMNAR 5496",
"  CMNAR 5517",
"  CMNAR 5554",
"  CMNAR 5573",
"  CMNAR 5646",
"  CMNAR 5647",
"  CMNAR 5648",
"  CMNAR 5649",
"  CMNAR 5870",
"  CMNAR 5875",
"  CMNAR 5969",
"  CMNAR 5979",
"  CMNAR 5984",
"  CMNAR 5999",
"  CMNAR 6000",
"  CMNAR 6003",
"  CMNAR 6004",
"  CMNAR 6005",
"  CMNAR 6010",
"  CMNAR 6011",
"  CMNAR 6016",
"  CMNAR 6018",
"  CMNAR 6019",
"  CMNAR 6032",
"  CMNAR 6035",
"  CMNAR 6036",
"  CMNAR 6037",
"  CMNAR 605",
"  CMNAR 6057",
"  CMNAR 6071",
"  CMNAR 6080",
"  CMNAR 611",
"  CMNAR 6112",
"  CMNAR 612",
"  CMNAR 6134",
"  CMNAR 6140",
"  CMNAR 6144",
"  CMNAR 6145",
"  CMNAR 6147",
"  CMNAR 6148",
"  CMNAR 6149",
"  CMNAR 6150",
"  CMNAR 6151",
"  CMNAR 6155",
"  CMNAR 6158",
"  CMNAR 6161",
"  CMNAR 6168",
"  CMNAR 6170",
"  CMNAR 6174",
"  CMNAR 6176",
"  CMNAR 6179",
"  CMNAR 6183",
"  CMNAR 6186",
"  CMNAR 6187",
"  CMNAR 6188",
"  CMNAR 6190",
"  CMNAR 6194",
"  CMNAR 6196",
"  CMNAR 6202",
"  CMNAR 6203",
"  CMNAR 6206",
"  CMNAR 6208",
"  CMNAR 6209",
"  CMNAR 6211",
"  CMNAR 6213",
"  CMNAR 6214",
"  CMNAR 6216",
"  CMNAR 6218",
"  CMNAR 6223",
"  CMNAR 6226",
"  CMNAR 6229",
"  CMNAR 6231",
"  CMNAR 6235",
"  CMNAR 6237",
"  CMNAR 6238",
"  CMNAR 6243",
"  CMNAR 6246",
"  CMNAR 6249",
"  CMNAR 6251",
"  CMNAR 6254",
"  CMNAR 6256",
"  CMNAR 626",
"  CMNAR 6261",
"  CMNAR 6263",
"  CMNAR 6267",
"  CMNAR 6268",
"  CMNAR 627",
"  CMNAR 6270",
"  CMNAR 6272",
"  CMNAR 6278",
"  CMNAR 6282",
"  CMNAR 6285",
"  CMNAR 6288",
"  CMNAR 6289",
"  CMNAR 6290",
"  CMNAR 6297",
"  CMNAR 6304",
"  CMNAR 6309",
"  CMNAR 6311",
"  CMNAR 6316",
"  CMNAR 6319",
"  CMNAR 632",
"  CMNAR 6321",
"  CMNAR 6328",
"  CMNAR 6331",
"  CMNAR 6332",
"  CMNAR 6336",
"  CMNAR 6337",
"  CMNAR 6339",
"  CMNAR 6342",
"  CMNAR 6350",
"  CMNAR 6355",
"  CMNAR 6356",
"  CMNAR 6358",
"  CMNAR 6359",
"  CMNAR 6361",
"  CMNAR 6362",
"  CMNAR 6364",
"  CMNAR 6365",
"  CMNAR 6367",
"  CMNAR 6369",
"  CMNAR 6372",
"  CMNAR 6376",
"  CMNAR 6380",
"  CMNAR 6382",
"  CMNAR 6386",
"  CMNAR 6388",
"  CMNAR 6404",
"  CMNAR 6406",
"  CMNAR 6409",
"  CMNAR 6412",
"  CMNAR 6416",
"  CMNAR 6420",
"  CMNAR 6425",
"  CMNAR 6432",
"  CMNAR 6434",
"  CMNAR 6508",
"  CMNAR 671",
"  CMNAR 672",
"  CMNAR 6889",
"  CMNAR 6891",
"  CMNAR 6893",
"  CMNAR 6917",
"  CMNAR 6921",
"  CMNAR 6933",
"  CMNAR 6939",
"  CMNAR 6945",
"  CMNAR 6961",
"  CMNAR 6965",
"  CMNAR 6971",
"  CMNAR 6979",
"  CMNAR 6996",
"  CMNAR 7015",
"  CMNAR 7036",
"  CMNAR 7077",
"  CMNAR 7081",
"  CMNAR 7083",
"  CMNAR 7099",
"  CMNAR 7104",
"  CMNAR 7114",
"  CMNAR 7118",
"  CMNAR 7131",
"  CMNAR 7137",
"  CMNAR 7143",
"  CMNAR 7147",
"  CMNAR 7148",
"  CMNAR 7150",
"  CMNAR 7153",
"  CMNAR 7156",
"  CMNAR 7160",
"  CMNAR 7162",
"  CMNAR 7163",
"  CMNAR 7169",
"  CMNAR 7171",
"  CMNAR 7172",
"  CMNAR 7180",
"  CMNAR 7227",
"  CMNAR 7232",
"  CMNAR 7233",
"  CMNAR 7235",
"  CMNAR 7237",
"  CMNAR 7239",
"  CMNAR 7245",
"  CMNAR 7248",
"  CMNAR 725",
"  CMNAR 7254",
"  CMNAR 7256",
"  CMNAR 726",
"  CMNAR 7260",
"  CMNAR 7265",
"  CMNAR 7274",
"  CMNAR 7277",
"  CMNAR 7278",
"  CMNAR 7283",
"  CMNAR 7284",
"  CMNAR 7286",
"  CMNAR 7293",
"  CMNAR 7294",
"  CMNAR 7297",
"  CMNAR 7299",
"  CMNAR 7302",
"  CMNAR 7314",
"  CMNAR 7323",
"  CMNAR 7327",
"  CMNAR 7329",
"  CMNAR 7330",
"  CMNAR 7331",
"  CMNAR 747",
"  CMNAR 748",
"  CMNAR 749",
"  CMNAR 750",
"  CMNAR 751",
"  CMNAR 752",
"  CMNAR 7620",
"  CMNAR 7639",
"  CMNAR 7684",
"  CMNAR 7686",
"  CMNAR 7692",
"  CMNAR 7701",
"  CMNAR 7706",
"  CMNAR 7710",
"  CMNAR 7715",
"  CMNAR 7717",
"  CMNAR 7727",
"  CMNAR 7733",
"  CMNAR 7760",
"  CMNAR 7774",
"  CMNAR 7782",
"  CMNAR 7795",
"  CMNAR 7859",
"  CMNAR 792",
"  CMNAR 7986",
"  CMNAR 8019",
"  CMNAR 8224",
"  CMNAR 8352",
"  CMNAR 8364",
"  CMNAR 8368",
"  CMNAR 8377",
"  CMNAR 8381",
"  CMNAR 8386",
"  CMNAR 8391",
"  CMNAR 8392",
"  CMNAR 8433",
"  CMNAR 8434",
"  CMNAR 8436",
"  CMNAR 8440",
"  CMNAR 8445",
"  CMNAR 8448",
"  CMNAR 8450",
"  CMNAR 8455",
"  CMNAR 8465",
"  CMNAR 8472",
"  CMNAR 8476",
"  CMNAR 8480",
"  CMNAR 8488",
"  CMNAR 8490",
"  CMNAR 8493",
"  CMNAR 8495",
"  CMNAR 8500",
"  CMNAR 8501",
"  CMNAR 8506",
"  CMNAR 8510",
"  CMNAR 8511",
"  CMNAR 8513",
"  CMNAR 8517",
"  CMNAR 8519",
"  CMNAR 8524",
"  CMNAR 8529",
"  CMNAR 8532",
"  CMNAR 8537",
"  CMNAR 8538",
"  CMNAR 8541",
"  CMNAR 8544",
"  CMNAR 8546",
"  CMNAR 8554",
"  CMNAR 8628",
"  CMNAR 8629",
"  CMNAR 8641",
"  CMNAR 8644",
"  CMNAR 8647",
"  CMNAR 8649",
"  CMNAR 8652",
"  CMNAR 8655",
"  CMNAR 8656",
"  CMNAR 8680",
"  CMNAR 8690",
"  CMNAR 8696",
"  CMNAR 8700",
"  CMNAR 8973",
"  CMNAR 9062",
"  CMNAR 9214",
"  CMNAR 9219",
"  CMNAR 9221",
"  CMNAR 9225",
"  CMNAR 9238",
"  CMNAR 9278",
"  CMNAR 9286",
"  CMNAR 9289",
"  CMNAR 9292",
"  CMNAR 9294",
"  CMNAR 9307",
"  CMNAR 951",
"  CMNAR 952",
"  CMNAR 9553",
"  CMNAR 958",
"  CMNAR 9587",
"  CMNAR 9589",
"  CMNAR 959",
"  CMNAR 9593",
"  CMNAR 9594",
"  CMNAR 9674",
"  CMNAR 9676",
"  CMNAR 9677",
"  CMNAR 9682",
"  CMNAR 9686",
"  CMNAR 9713",
"  CMNAR 9725",
"  CMNAR 9728",
"  CMNAR 9730",
"  CMNAR 9734",
"  CMNAR 9738",
"  CMNAR 9739",
"  CMNAR 9890"
]

CSV.open(output_dir(__FILE__) + "/Chorus_Canada_2016.csv", 'w') do |csv|
  csv << [
    "id_number",
    "label_name",
    "taxon_link",
    "ident",
    "id_date",
    "type_status",
    "higher_taxa",
    "count",
    "sex",
    "coll_num",
    "collector",
    "place_collected",
    "date_collected",
    "spec_nature",
    "description",
    "acq_number",
    "site_desc",
    "altitude",
    "lat",
    "long",
    "site_notes",
    "home_loc"
  ]
end

Parallel.map(catalogs.in_groups_of(40, false), progress: "Catalogs", in_processes: 8) do |group|
  CSV.open(output_dir(__FILE__) + "/Chorus_Canada_2016.csv", 'a') do |csv|
    group.each do |id|
      catalog = Catalog.find_by_catalog_number(id.strip)
      id_number = catalog.catalog_number
      label_name = catalog.scientific_name
      taxon_link = catalog.catalog_taxa.first.scientific_name rescue nil
      ident = catalog.catalog_taxa.first.identified_by rescue nil
      id_date = catalog.catalog_taxa.first.date_identified.to_s rescue nil
      type_status = catalog.catalog_taxa.first.type_status rescue nil
      higher_taxa = catalog.catalog_taxa.first.higher_taxonomy rescue nil
      count = catalog.item_count.to_s
      sex = catalog.sex
      coll_num = catalog.other_numbers.map{|other| other.other_number if other.on_type == "collector no./field no."}.first.to_s rescue nil
      collector = catalog.collector
      place_collected = catalog.place_collected
      date_collected = catalog.date_collected.to_s
      spec_nature = catalog.specimen_nature
      description = catalog.description
      acq_number = catalog.acquisition_number.to_s
      site_desc = catalog.sites.first.description rescue nil
      altitude = catalog.sites.first.elevation.to_s rescue nil
      lat = catalog.sites.first.start_latitude_dec.to_f rescue nil
      long = catalog.sites.first.start_longitude_dec.to_f rescue nil
      #p_s = catalog.sites.first.decimal_is_primary? ? "P" : "S" rescue nil
      site_notes = catalog.sites.first.recommendations rescue nil
      home_loc = catalog.home_location
      csv << [
        id_number,
        label_name,
        taxon_link,
        ident,
        id_date,
        type_status,
        higher_taxa,
        count,
        sex,
        coll_num,
        collector,
        place_collected,
        date_collected,
        spec_nature,
        description,
        acq_number,
        site_desc,
        altitude,
        lat,
        long,
        site_notes,
        home_loc
      ]
    end
  end
end