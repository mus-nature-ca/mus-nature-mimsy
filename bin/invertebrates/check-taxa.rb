#!/usr/bin/env ruby
# encoding: utf-8
require_relative '../../environment.rb'
include Sinatra::Mimsy::Helpers

taxa = [
"Acer negundo",
"Achillea millefolium subsp. borealis",
"Agrostis mertensii",
"Alectoria ochroleuca",
"Allium schoenoprasum",
"Alnus alnobetula",
"Alopecurus borealis",
"Amandinea punctata",
"Andromeda polifolia",
"Androsace chamaejasme subsp. andersonii",
"Androsace septentrionalis",
"Anemonastrum richardsonii",
"Anemone parviflora",
"Antennaria monocephala subsp. angustata",
"Antennaria sp. (A. friesiana s.l -- A. alpina s.l. complex)",
"Anthoxanthum arcticum",
"Anthoxanthum hirtum",
"Anthoxanthum monticola subsp. alpinum",
"Arctagrostis latifolia",
"Arctagrostis latifolia subsp. arundinacea",
"Arctagrostis latifolia subsp. latifolia",
"Arctoparmelia centrifuga",
"Arctoparmelia separata",
"Arctophila fulva",
"Arctostaphylos uva-ursi",
"Arctous alpina",
"Arctous rubra",
"Arenaria humifusa",
"Arisaema triphyllum",
"Armeria maritima subsp. sibirica",
"Armeria scabra",
"Arnica angustifolia subsp. angustifolia",
"Arnica frigida",
"Artemisia borealis subsp. borealis",
"Artemisia borealis subsp. richardsoniana",
"Artemisia hyperborea",
"Artemisia tilesii",
"Asahinea chrysantha",
"Ascomycota",
"Askellia pygmaea",
"Aspicilia cinerea",
"Astragalus",
"Astragalus alpinus",
"Astragalus richardsonii",
"Aulacomnium turgidum",
"Betula glandulosa",
"Betula occidentalis",
"Bistorta vivipara",
"Botrychium minganense",
"Botrychium neolunaria",
"Botrychium tunux",
"Braya glabella subsp. glabella",
"Braya glabella subsp. prostrata",
"Braya glabella subsp. purpurascens",
"Braya humilis subsp. ellesmerensis",
"Braya humilis subsp. humilis",
"Braya thorild-wulffii subsp. thorild-wulffii",
"Bromus pumpellianus",
"Bryocaulon divergens",
"Bryoria nitidula",
"Bryoria simplicior",
"Calamagrostis canadensis subsp. langsdorffii",
"Calamagrostis gayana",
"Calamagrostis lapponica",
"Calamagrostis purpurascens",
"Calamagrostis purpurascens subsp. purpurascens",
"Calamagrostis stricta subsp. groenlandica",
"Calamagrostis stricta subsp. stricta",
"Caltha palustris subsp. radicans",
"Campanula uniflora",
"Candelariella citrina",
"Cardamine bellidifolia",
"Cardamine digitata",
"Cardamine polemonioides",
"Carex",
"Carex adelostoma",
"Carex aquatilis subsp. stans",
"Carex atrofusca",
"Carex bicolor",
"Carex bigelowii",
"Carex bigelowii subsp. bigelowii",
"Carex bigelowii subsp. lugens",
"Carex borealipolaris",
"Carex capillaris subsp. fuscidula",
"Carex capitata",
"Carex chordorrhiza",
"Carex concinna",
"Carex fuliginosa subsp. misandra",
"Carex glacialis",
"Carex glareosa subsp. glareosa",
"Carex gynocrates",
"Carex holostoma",
"Carex krausei",
"Carex lachenalii",
"Carex livida",
"Carex marina",
"Carex maritima",
"Carex membranacea",
"Carex microglochin",
"Carex myosuroides",
"Carex nardina",
"Carex norvegica",
"Carex petricosa subsp. petricosa",
"Carex podocarpa",
"Carex rariflora",
"Carex rotundata",
"Carex rupestris",
"Carex saxatilis",
"Carex scirpoidea",
"Carex scirpoidea subsp. scirpoidea",
"Carex simpliciuscula subsp. subholarctica",
"Carex subspathacea",
"Carex supina subsp. spaniocarpa",
"Carex ursina",
"Carex vaginata",
"Carex williamsii",
"Cassiope tetragona",
"Cassiope tetragona subsp. tetragona",
"Castilleja caudata",
"Castilleja elegans",
"Castilleja raupii",
"Cerastium alpinum subsp. alpinum",
"Cerastium arcticum",
"Cerastium beeringianum",
"Cerastium regelii",
"Cetraria islandica",
"Chamaenerion angustifolium subsp. angustifolium",
"Chamaenerion latifolium",
"Chrysosplenium rosendahlii",
"Chrysosplenium tetrandrum",
"Cladonia bellidiflora",
"Cladonia chlorophaea",
"Cladonia fimbriata",
"Cladonia gracilis",
"Cladonia gracilis subsp. elgonata",
"Cladonia pleurota",
"Cladonia pocillum",
"Cladonia pyxidata",
"Cladonia stellaris",
"Cochlearia groenlandica",
"Comarum palustre",
"Comastoma tenellum",
"Corallorhiza trifida",
"Cryptogramma stelleri",
"Cyphelium pinicola",
"Cystopteris fragilis",
"Dactylina arctica",
"Dasiphora fruticosa",
"Deschampsia brevifolia",
"Deschampsia cespitosa",
"Deschampsia cespitosa subsp. cespitosa",
"Deschampsia sukatschewii",
"Descurainia sophioides",
"Diapensia lapponica",
"Dicranum elongatum",
"Draba cinerea",
"Draba corymbosa",
"Draba fladnizensis",
"Draba glabella",
"Draba lactea",
"Draba lonchocarpa",
"Draba nivalis",
"Draba pilosa",
"Draba simmonsii",
"Draba subcapitata",
"Dryas integrifolia",
"Dryas integrifolia subsp. integrifolia",
"Dryas integrifolia subsp. sylvatica",
"Dryopteris fragrans",
"Dupontia fisheri",
"Eleocharis acicularis",
"Eleocharis quinqueflora",
"Elymus alaskanus subsp. alaskanus",
"Elymus alaskanus subsp. hyperarcticus",
"Elymus violaceus",
"Empetrum nigrum",
"Epilobium anagallidifolium",
"Epilobium arcticum",
"Epilobium davuricum",
"Epilobium palustre",
"Equisetum arvense subsp. alpestre",
"Equisetum fluviatile",
"Equisetum hyemale",
"Equisetum palustre",
"Equisetum pratense",
"Equisetum scirpoides",
"Equisetum variegatum",
"Equisetum variegatum subsp. variegatum",
"Eremogone capillaris subsp. capillaris",
"Erigeron compositus",
"Erigeron eriocephalus",
"Erigeron humilis",
"Eriophorum angustifolium",
"Eriophorum brachyantherum",
"Eriophorum callitrix",
"Eriophorum russeolum subsp. leiocarpum",
"Eriophorum scheuchzeri subsp. arcticum",
"Eriophorum scheuchzeri subsp. scheuchzeri",
"Eriophorum triste",
"Eriophorum vaginatum subsp. spissum",
"Eriophorum vaginatum subsp. vaginatum",
"Erysimum coarctatum",
"Erysimum pallasii",
"Eurybia sibirica",
"Eutrema edwardsii",
"Festuca altaica",
"Festuca baffinensis",
"Festuca brachyphylla",
"Festuca brachyphylla subsp. brachyphylla",
"Festuca edlundiae",
"Festuca hyperborea",
"Festuca rubra subsp. arctica",
"Festuca rubra subsp. rubra",
"Festuca thurberi",
"Festuca viviparoidea subsp. viviparoidea",
"Flavocetraria cucullata",
"Flavocetraria nivalis",
"Fragaria virginiana subsp. virginiana",
"Fucus distichus",
"Fulgensia subbracteata",
"Gentianella propinqua subsp. propinqua",
"Gentianopsis detonsa subsp. detonsa",
"Geum rossii",
"Halerpestes cymbalaria",
"Hedysarum americanum",
"Hedysarum boreale subsp. mackenziei",
"Hierochloe",
"Hippuris lanceolata",
"Hippuris vulgaris",
"Honckenya peploides subsp. diffusa",
"Hordeum jubatum subsp. intermedium",
"Hulteniella integrifolia",
"Huperzia arctica",
"Hypogymnia physodes",
"Juncus alpinoarticulatus subsp. americanus",
"Juncus arcticus subsp. alaskanus",
"Juncus arcticus subsp. arcticus",
"Juncus biglumis",
"Juncus leucochlamys",
"Juncus triglumis subsp. albescens",
"Juniperus communis subsp. depressa",
"Kalmia procumbens",
"Koenigia islandica",
"Lasallia pensylvanica",
"Lathyrus japonicus",
"Lecanora circumborealis",
"Lecanora epibryon",
"Lecanora opiniconensis",
"Lecanora polytropa",
"Lecanora subintricata",
"Lecanora symmicta",
"Lecidea tessellata",
"Lecidella stigmatea",
"Leptobryum pyriforme",
"Leymus mollis subsp. villosissimus",
"Linnaea borealis subsp. americana",
"Linum lewisii subsp. lewisii",
"Lupinus arcticus subsp. arcticus",
"Luzula confusa",
"Luzula groenlandica",
"Luzula nivalis",
"Luzula wahlenbergii",
"Lycopodium annotinum subsp. alpestre",
"Masonhalea richardsonii",
"Melanelia stygia",
"Mertensia maritima subsp. tenella",
"Micranthes foliolosa",
"Micranthes nivalis",
"Micranthes porsildiana",
"Micranthes tenuis",
"Minuartia",
"Minuartia biflora",
"Minuartia rossii",
"Myriophyllum sibiricum",
"Nephroma expallidum",
"Nicoraepoa andina",
"Nicoraepoa chonotica",
"Nostoc commune",
"Ochrolechia upsaliensis",
"Ophioparma ventosa",
"Orthilia secunda subsp. obtusata",
"Oxyria digyna",
"Oxytropis",
"Oxytropis arctica",
"Oxytropis arctobia",
"Oxytropis bellii",
"Oxytropis deflexa subsp. foliolosa",
"Oxytropis maydelliana",
"Oxytropis varians",
"Papaver cornwallisense",
"Papaver dahlianum",
"Papaver hultenii",
"Papaver labradoricum",
"Parmeliopsis ambigua",
"Parnassia kotzebuei",
"Parnassia palustris subsp. neogaea",
"Parrya",
"Parrya arctica",
"Pedicularis albolabiata",
"Pedicularis arctoeuropaea",
"Pedicularis capitata",
"Pedicularis flammea",
"Pedicularis hirsuta",
"Pedicularis labradorica",
"Pedicularis lanata",
"Pedicularis langsdorffii subsp. arctica",
"Pedicularis lapponica",
"Peltigera aphthosa",
"Peltigera malacea",
"Peltigera rufescens",
"Persicaria vivipara",
"Pertusaria excludens",
"Pertusaria panyrga",
"Petasites frigidus",
"Petasites frigidus subsp. sagittatus",
"Phippsia algida",
"Phippsia concinna",
"Phleum phleoides",
"Phyllodoce caerulea",
"Physaria arctica",
"Physconia muscigena",
"Picea glauca",
"Pinguicula villosa",
"Pinguicula vulgaris",
"Plantago canescens subsp. richardsonii",
"Platanthera obtusata subsp. obtusata",
"Pleuropogon sabinei",
"Poa",
"Poa abbreviata",
"Poa abbreviata subsp. abbreviata",
"Poa abbreviata subsp. pattersonii",
"Poa aequigluma",
"Poa alopecurus subsp. alopecurus",
"Poa alopecurus subsp. fuegiana",
"Poa alpigena",
"Poa alpina",
"Poa ammophila",
"Poa arctica",
"Poa arctica × P. glauca",
"Poa arctica subsp. arctica",
"Poa arctica subsp. caespitans",
"Poa asperifolia",
"Poa autumnalis",
"Poa candamoana",
"Poa chaixii",
"Poa confinis",
"Poa cummingii",
"Poa curtifolia",
"Poa cuspidata",
"Poa dolichophylla",
"Poa fendleriana subsp. fendleriana",
"Poa fibrifera",
"Poa gayana",
"Poa glaberrima",
"Poa glauca",
"Poa glauca subsp. glauca",
"Poa glauca subsp. rupicola",
"Poa hachadoensis var. hachadoensis",
"Poa hartzii subsp. hartzii",
"Poa hartzii subsp. vrangelica",
"Poa huancavelicae",
"Poa hylobates",
"Poa hylobates",
"Poa interior",
"Poa lanuginosa",
"Poa lanuginosa var. lanuginosa",
"Poa lettermanii",
"Poa lilloi",
"Poa linearifolia",
"Poa macrocalyx",
"Poa marshallii",
"Poa obvallata",
"Poa pauciflora",
"Poa perligulata",
"Poa planifolia",
"Poa pogonantha",
"Poa pratensis",
"Poa pratensis subsp. agassizensis",
"Poa pratensis subsp. alpigena",
"Poa pratensis subsp. colpodea",
"Poa pratensis subsp. irrigata",
"Poa pratensis subsp. pratensis",
"Poa scaberula",
"Poa secunda subsp. secunda",
"Poa sikkimensis",
"Poa stenantha",
"Poa stuckertii",
"Poa subspicata",
"Poa sylvestris",
"Poa trivialis subsp. trivialis",
"Poa yaganica",
"Polygonum aviculare",
"Populus balsamifera",
"Potamogeton gramineus",
"Potentilla",
"Potentilla anserina subsp. groenlandica",
"Potentilla arenosa × P. nivea",
"Potentilla arenosa subsp. arenosa",
"Potentilla arenosa subsp. chamissonis",
"Potentilla biflora",
"Potentilla hyparctica subsp. hyparctica",
"Potentilla nivea",
"Potentilla pedersenii",
"Potentilla pulchella",
"Potentilla tikhomirovii",
"Potentilla uschakovii",
"Potentilla vahliana",
"Potentilla vulcanicola",
"Primula egaliksensis",
"Primula stricta",
"Puccinellia",
"Puccinellia andersonii",
"Puccinellia angustata",
"Puccinellia arctica",
"Puccinellia bruggemannii",
"Puccinellia nutkaensis",
"Puccinellia nuttalliana",
"Puccinellia phryganodes",
"Puccinellia phryganodes subsp. neoarctica",
"Puccinellia pumila",
"Puccinellia tenella subsp. langeana",
"Puccinellia vaginata",
"Puccinellia vahliana",
"Pucciphippsia vacillans",
"Pyrola grandiflora",
"Pyrola grandiflora subsp. grandiflora",
"Ranunculus arcticus",
"Ranunculus confervoides",
"Ranunculus flammula",
"Ranunculus gmelinii subsp. gmelinii",
"Ranunculus hyperboreus",
"Ranunculus hyperboreus subsp. hyperboreus",
"Ranunculus nivalis",
"Ranunculus pygmaeus",
"Ranunculus sabinei",
"Ranunculus subrigidus",
"Ranunculus sulphureus",
"Rhizocarpon geographicum",
"Rhizoplaca chrysoleuca",
"Rhododendron groenlandicum",
"Rhododendron lapponicum",
"Rhododendron tomentosum subsp. decumbens",
"Rinodina mniaraea",
"Rinodina turfacea",
"Rubus arcticus subsp. acaulis",
"Rubus chamaemorus",
"Rumex arcticus",
"Sabulina elegans",
"Sabulina rossii",
"Sabulina rubella",
"Sabulina stricta",
"Sagina nivalis",
"Sagina nodosa subsp. borealis",
"Salix",
"Salix alaxensis var. alaxensis",
"Salix arbusculoides",
"Salix arctica",
"Salix arctolitoralis",
"Salix glauca",
"Salix glauca × Salix sp.",
"Salix glauca var. cordifolia",
"Salix glauca var. glauca",
"Salix herbacea",
"Salix niphoclada",
"Salix niphoclada × Salix glauca",
"Salix niphoclada × Salix glauca var. cordifolia",
"Salix ovalifolia var. ovalifolia",
"Salix planifolia",
"Salix pseudomyrsinites",
"Salix pulchra",
"Salix reticulata",
"Salix richardsonii",
"Saussurea angustifolia subsp. angustifolia",
"Saxifraga aizoides",
"Saxifraga cernua",
"Saxifraga cespitosa",
"Saxifraga flagellaris subsp. platysepala",
"Saxifraga hirculus",
"Saxifraga hyperborea",
"Saxifraga oppositifolia",
"Saxifraga oppositifolia subsp. oppositifolia",
"Saxifraga rivularis",
"Saxifraga tricuspidata",
"Senecio lugens",
"Shepherdia canadensis",
"Silene acaulis",
"Silene involucrata subsp. involucrata",
"Silene involucrata subsp. tenella",
"Silene ostenfeldii",
"Silene uralensis subsp. arctica",
"Silene uralensis subsp. uralensis",
"Solorina bispora",
"Solorina saccata",
"Sparganium hyperboreum",
"Sphaerophorus fragilis",
"Sphagnum fuscum",
"Staurothele drummondii",
"Stellaria borealis subsp. borealis",
"Stellaria crassifolia",
"Stellaria humifusa",
"Stellaria longipes",
"Stuckenia filiformis",
"Stuckenia pectinata",
"Stuckenia vaginata",
"Suaeda calceoliformis",
"Symphyotrichum pygmaeum",
"Taraxacum ceratophorum",
"Taraxacum holmenianum",
"Taraxacum phymatocarpum",
"Taraxacum scopulorum",
"Tephroseris frigida",
"Tephroseris palustris subsp. congesta",
"Tetramelas papillatus",
"Thamnolia vermicularis",
"Tofieldia coccinea",
"Tofieldia pusilla",
"Tremolecia atrata",
"Trichophorum cespitosum subsp. cespitosum",
"Triglochin maritima",
"Triglochin palustris",
"Trillium grandiflorum",
"Tripleurospermum maritimum subsp. phaeocephalum",
"Trisetum spicatum",
"Umbilicaria lyngei",
"Umbilicaria proboscidea",
"Usnea lapponica",
"Utricularia intermedia",
"Utricularia vulgaris",
"Vaccinium uliginosum",
"Vaccinium vitis-idaea subsp. minus",
"Viola conspersa",
"Vulpicida pinastri",
"Vulpicida tilesii",
"Woodsia alpina",
"Woodsia glabella",
"Xanthoria candelaria",
"Xanthoria elegans",
"Zannichellia palustris"
]

missing = []

taxa.each do |taxon|
  tax = Taxon.find_by_scientific_name(taxon)
  #Find a variant if verbatim not found
  if tax.nil?
    tax = TaxonVariation.find_by_scientific_name(taxon).taxon rescue nil
  end
  if tax.nil?
    missing << taxon
  end
end

puts missing