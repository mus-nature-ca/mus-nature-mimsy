#!/usr/bin/env ruby
# encoding: utf-8
require_relative '../../environment.rb'
include Sinatra::Mimsy::Helpers

taxa = [
"Amnicola binneyana",
"Amnicola limosa",
"Amphipoda",
"Anguispira alternata",
"Annelida",
"Aplexa hypnorum",
"Aplexa hypnorum?",
"Arion",
"Arion ",
"Arion cf fasciatus",
"Arion fasciatus",
"Arion hortensis",
"Arion hortensis  ",
"Arion hortensis group",
"Arion intermedius",
"Arion subfuscus",
"Bithinia tentaculata",
"Bithynia tentaculata",
"Bivalvia",
"Cambarus bartoni",
"Carychium exiguum {Say}",
"cf Ancilidae",
"cf Aplexa hypnorum",
"cf Arion",
"cf Deroceras laeve",
"cf Gyraulus",
"cf oxyloma",
"cf Planorbiidae",
"cf Pseudosuccinea columella",
"cf Trochulus",
"cf Trochulus ",
"cf Vertigo",
"cf Zonitoides",
"Chilopoda",
"Choneiulus palmatus",
"Cionella lubrica",
"Cladocera",
"Cochlicopa lubrica",
"Cochliocopa",
"Cochliocopa lubica",
"Cochliopa",
"Cochliopa lubrica",
"Columella edentula",
"Copepoda",
"Crustacea",
"Cylindroiulus",
"Cylindroiulus caeruleocinctus",
"Deroceras",
"Deroceras cf laeve",
"Deroceras cf reticulatum",
"Deroceras laeve",
"Deroceras reticulatum",
"Dina dubia",
"Diplopoda",
"Discus",
"Discus catskillensis",
"Discus cronkhitei",
"Echinodermata",
"Euconulus fulvus",
"Ferrisia rivularis",
"Ferrissia cf parallela",
"Ferrissia tarda",
"Gastropoda",
"Gastropoda- slug",
"Gastropoda-slug",
"Gemma gemma",
"General invert",
"General Invertebrate",
"Glyphyalinia",
"Glyphyalinia indentata",
"Goniobasis liviscens",
"Gyraulus",
"Gyraulus cf parvus",
"Gyraulus deflectus",
"Gyraulus parvus",
"Haplotrema concavum",
"Harlotrema concavum",
"Helicopsyche",
"Helisoma anceps",
"Helisoma cf trivolvis",
"Helisoma trivolvis (synonym Planorbella campanulata)",
"Helobdella stagnalis",
"Hirudinea",
"Hydrobia minuta",
"Hydrobiidae",
"Hydrocarina",
"Hygromia hispida",
"Hygromia stridata",
"Hygromia striolata",
"Isopoda",
"Littoria saxatilis",
"Lumbricidae",
"Lymanea palustris",
"Lymnaea",
"Lymnaea humilis",
"Lymnaeidae",
"Macrobdella decora",
"Mediappendix",
"Menetus dilatatus",
"Mesomphix rugeli",
"Molibdella grandis",
"Mollusca",
"Musculium securis",
"Novisuccinea cf ovalis",
"Novisuccinea ovalis",
"Oligochaeta",
"Ophiuroidea",
"Orconectes immunis",
"Orconectes limosus",
"Orconectes obscurus",
"Orconectes propinquus",
"Orconectes rusticus",
"Orconectes virilis",
"Ostracoda",
"Ostreidae",
"Oxychilus",
"Oxychilus cellarius",
"Oxychilus cf draparnaudi",
"Oxychilus draparnaudi",
"Oxyloma",
"Pallifera hemphili",
"Pallifera mutabilis",
"Paralaoma servilis",
"Philomycidae",
"Philomycus carolinianus",
"Phyilomycus",
"Phylomycus  ",
"Phylomycus carolinianus",
"Physa",
"Physa cf integra",
"Physa elliptica",
"Physa gyrina",
"Physa heteostropha",
"Physa heterostropha",
"Physa integra  ",
"physa sayii",
"Physella gyrina",
"Planobula",
"Planorbella campanulatun",
"Planorbella cf campanulatum",
"Planorbella trivolvis",
"Planorbiidae",
"Planorbula",
"Polychaeta",
"Polydesmus",
"Polygyridae",
"Promenetus evaua",
"Promenetus exacuus",
"Pseudosuccina columella",
"Pupilla muscorum",
"Sphaeriidae",
"Spirobolidae",
"Stagnalis",
"Stagnicola catascopium",
"Stagnicola cf catascopium",
"Stagnicola cf elodes",
"Stagnicola elodes",
"Stenotrema fraternum",
"Succinidae",
"Trochulus",
"Trochulus  hispidus",
"Trochulus cf hispidus",
"Trochulus hispidus",
"Trochulus lizpida",
"Tubifex",
"Vallonia costata",
"Valvata lewisi",
"Valvata sincera sincera",
"Valvata tricarinata",
"Vertigo",
"Vertigo elatior",
"Vitrina angelica",
"Viviparus georgianus",
"Zonitoides",
"Zonitoides arboreus",
"Zonitoides nitidus",
"Zoogenetes harpa"
]

missing = []

taxa.each do |taxon|
  tax = Taxon.find_by_scientific_name(taxon)
  #Find a variant if verbatim not found
  if tax.nil?
    tax = TaxonVariation.find_by_scientific_name(taxon).taxon rescue nil
  end
  if tax.nil?
    missing << taxon
  end
end

puts missing